I"æv<h5 id="1é¦–å…ˆéœ€è¦é€šè¿‡åœ¨ç»ˆç«¯npm-install-prop-typesæˆ–yarn-add-prop-typeså®‰è£…ä¸€ä¸ªå«prop-typesçš„ç¬¬ä¸‰æ–¹åŒ…">1é¦–å…ˆéœ€è¦é€šè¿‡åœ¨ç»ˆç«¯npm install prop-typesæˆ–yarn add prop-typeså®‰è£…ä¸€ä¸ªå«prop-typesçš„ç¬¬ä¸‰æ–¹åŒ…</h5>

<h5 id="2ç„¶åé€šè¿‡ä¸‹é¢çš„å†™æ³•å¯¹æŸä¸€ä¸ªç»„ä»¶ä¸­çš„å˜é‡è¿›è¡Œç±»å‹æ£€æµ‹">2ç„¶åé€šè¿‡ä¸‹é¢çš„å†™æ³•å¯¹æŸä¸€ä¸ªç»„ä»¶ä¸­çš„å˜é‡è¿›è¡Œç±»å‹æ£€æµ‹ï¼š</h5>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">componentname</span><span class="p">.</span><span class="nx">propTypes</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">name1</span><span class="p">:</span><span class="dl">'</span><span class="s1">å˜é‡ç±»å‹</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">name2</span><span class="p">:</span><span class="dl">'</span><span class="s1">å˜é‡ç±»å‹</span><span class="dl">'</span>
<span class="p">}</span>
</code></pre></div></div>

<blockquote>
  <p>ä¾‹å¦‚ï¼š (æœ‰æ„å†™é”™ï¼Œè®©å…¶æ£€æµ‹)</p>
  <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>
<span class="k">import</span> <span class="nx">PropTypes</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">prop-types</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">class</span> <span class="nx">Son</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
   <span class="nx">render</span><span class="p">(){</span>
        <span class="k">return</span> <span class="p">(</span><span class="o">&lt;</span><span class="nx">div</span> <span class="nx">style</span> <span class="o">=&gt;</span>
                      <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">number</span><span class="p">}</span>
                      <span class="o">&lt;</span><span class="nx">br</span><span class="o">/&gt;</span>
                      <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">array</span><span class="p">}</span>
                      <span class="o">&lt;</span><span class="nx">br</span><span class="o">/&gt;</span>
                      <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">boolean</span><span class="p">.</span><span class="nx">toString</span><span class="p">()}</span>
                    <span class="o">&lt;</span><span class="sr">/div&gt;</span><span class="err">)
</span>                  <span class="p">}</span>
<span class="p">}</span>
<span class="nx">Son</span><span class="p">.</span><span class="nx">propTypes</span> <span class="o">=</span> <span class="p">{</span>
        <span class="na">number</span><span class="p">:</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">number</span><span class="p">,</span>
        <span class="na">array</span><span class="p">:</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">array</span><span class="p">,</span>
        <span class="na">boolean</span><span class="p">:</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">bool</span>
<span class="p">}</span>
<span class="kd">class</span> <span class="nx">Father</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
    <span class="nx">render</span><span class="p">(){</span>
         <span class="k">return</span> <span class="p">(</span><span class="o">&lt;</span><span class="nx">Son</span>
                       <span class="nx">number</span> <span class="o">=</span> <span class="p">{</span><span class="dl">'</span><span class="s1">1</span><span class="dl">'</span><span class="p">}</span>
                       <span class="nx">array</span> <span class="o">=</span> <span class="p">{</span><span class="dl">'</span><span class="s1">[1,2,3]</span><span class="dl">'</span><span class="p">}</span>
                       <span class="nx">boolean</span> <span class="o">=</span> <span class="p">{</span><span class="dl">'</span><span class="s1">true</span><span class="dl">'</span><span class="p">}</span>
                        <span class="sr">/&gt;</span><span class="err">)
</span>                  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>  </div>
</blockquote>

<ul>
  <li>propTypesèƒ½ç”¨æ¥æ£€æµ‹å…¨éƒ¨æ•°æ®ç±»å‹çš„å˜é‡ï¼ŒåŒ…æ‹¬åŸºæœ¬ç±»å‹çš„çš„å­—ç¬¦ä¸²ï¼Œå¸ƒå°”å€¼ï¼Œæ•°å­—ï¼Œä»¥åŠå¼•ç”¨ç±»å‹çš„å¯¹è±¡ï¼Œæ•°ç»„ï¼Œå‡½æ•°ï¼Œç”šè‡³è¿˜æœ‰ES6æ–°å¢çš„ç¬¦å·ç±»å‹
    <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">Son</span><span class="p">.</span><span class="nx">propTypes</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">optionalArray</span><span class="p">:</span> <span class="nx">PropTypes</span><span class="p">.</span><span class="nx">array</span><span class="p">,</span><span class="c1">//æ£€æµ‹æ•°ç»„ç±»å‹</span>
   <span class="na">optionalBool</span><span class="p">:</span> <span class="nx">PropTypes</span><span class="p">.</span><span class="nx">bool</span><span class="p">,</span><span class="c1">//æ£€æµ‹å¸ƒå°”ç±»å‹</span>
   <span class="na">optionalFunc</span><span class="p">:</span> <span class="nx">PropTypes</span><span class="p">.</span><span class="nx">func</span><span class="p">,</span><span class="c1">//æ£€æµ‹å‡½æ•°ï¼ˆFunctionç±»å‹ï¼‰</span>
   <span class="na">optionalNumber</span><span class="p">:</span> <span class="nx">PropTypes</span><span class="p">.</span><span class="nx">number</span><span class="p">,</span><span class="c1">//æ£€æµ‹æ•°å­—</span>
   <span class="na">optionalObject</span><span class="p">:</span> <span class="nx">PropTypes</span><span class="p">.</span><span class="nx">object</span><span class="p">,</span><span class="c1">//æ£€æµ‹å¯¹è±¡</span>
   <span class="na">optionalString</span><span class="p">:</span> <span class="nx">PropTypes</span><span class="p">.</span><span class="nx">string</span><span class="p">,</span><span class="c1">//æ£€æµ‹å­—ç¬¦ä¸²</span>
   <span class="na">optionalSymbol</span><span class="p">:</span> <span class="nx">PropTypes</span><span class="p">.</span><span class="nx">symbol</span><span class="p">,</span><span class="c1">//ES6æ–°å¢çš„symbolç±»å‹</span>
<span class="p">}</span>
</code></pre></div>    </div>

    <p><code class="highlighter-rouge">ã€æ³¨æ„ã€‘ä¸‹é¢è¿™äº›æ˜¯ä»å®˜æ–¹è‹±æ–‡æ–‡æ¡£é‡Œå¼•ç”¨è¿‡æ¥çš„ï¼Œä½ å¤§æ¦‚èƒ½å¤Ÿæ³¨æ„åˆ°ï¼Œäº”ç§åŸºæœ¬ç±»å‹ä¸­çš„ä¸ç¡®å®šå’Œç©ºå¹¶ä¸åœ¨æ­¤åˆ—ï¼ŒpropTypesç±»å‹æ£€æµ‹çš„ç¼ºæ†¾ä¹‹ä¸€æ˜¯ï¼Œå¯¹äºä¸ç¡®å®šçš„å’Œæ— æ•ˆçš„å€¼ï¼Œå®ƒæ— æ³•æ•æ‰é”™è¯¯</code></p>
  </li>
  <li>æŠŠä¸Šè¿°å®ä¾‹ä¸­çš„çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶ä¿®æ”¹ä¸€ä¸‹ï¼Œæ”¹æˆï¼š
    <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">Father</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
  <span class="nx">render</span><span class="p">(){</span>
     <span class="k">return</span> <span class="p">(</span><span class="o">&lt;</span><span class="nx">Son</span>
               <span class="nx">number</span> <span class="o">=</span> <span class="p">{</span><span class="kc">null</span><span class="p">}</span>
               <span class="nx">array</span> <span class="o">=</span> <span class="p">{</span><span class="kc">null</span><span class="p">}</span>
               <span class="nx">boolean</span> <span class="o">=</span> <span class="p">{</span><span class="kc">null</span><span class="p">}</span>
              <span class="sr">/&gt;</span><span class="err">)
</span>           <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>    </div>
    <blockquote>
      <p>ç»“æœæ˜¯è¾“å‡ºå°ä¸æŠ¥ä»»ä½•é”™è¯¯ï¼Œï¼ˆå½“ç„¶ä½ æ”¹æˆæœªå®šä¹‰ä¹Ÿæ˜¯åŒæ ·æ•ˆæœï¼‰ã€‚</p>
    </blockquote>
  </li>
</ul>

<h5 id="é€šè¿‡oneoftypeå®ç°å¤šé€‰æ‹©æ£€æµ‹-å¯è§„å®šå¤šä¸ªæ£€æµ‹é€šè¿‡çš„æ•°æ®ç±»å‹">é€šè¿‡oneOfTypeå®ç°å¤šé€‰æ‹©æ£€æµ‹-å¯è§„å®šå¤šä¸ªæ£€æµ‹é€šè¿‡çš„æ•°æ®ç±»å‹</h5>
<blockquote>
  <p>PropTypesé‡Œçš„oneOfTypeæ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ï¼ŒoneOfTypeæ–¹æ³•æ¥æ”¶å‚æ•°çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„å…ƒç´ æ˜¯ä½ å¸Œæœ›æ£€æµ‹é€šè¿‡çš„æ•°æ®ç±»å‹ã€‚</p>
</blockquote>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>
<span class="k">import</span> <span class="nx">PropTypes</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">prop-types</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">class</span> <span class="nx">Son</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
<span class="nx">render</span><span class="p">(){</span>
<span class="k">return</span> <span class="p">(</span><span class="o">&lt;</span><span class="nx">div</span> <span class="nx">style</span> <span class="o">=&gt;</span>
<span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">number</span><span class="p">}</span>
<span class="o">&lt;</span><span class="sr">/div&gt;</span><span class="err">)
</span><span class="p">}</span>
<span class="p">}</span>
<span class="nx">Son</span><span class="p">.</span><span class="nx">propTypes</span> <span class="o">=</span> <span class="p">{</span>
<span class="na">number</span><span class="p">:</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">oneOfType</span><span class="p">(</span>
<span class="p">[</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">string</span><span class="p">,</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">number</span><span class="p">]</span>
<span class="p">)</span>
<span class="p">}</span>
<span class="kd">class</span> <span class="nx">Father</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
<span class="nx">render</span><span class="p">(){</span>
<span class="c1">//åˆ†åˆ«æ¸²æŸ“æ•°å­—çš„11å’Œå­—ç¬¦ä¸²çš„11</span>
<span class="k">return</span> <span class="p">(</span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="nx">Son</span> <span class="nx">number</span> <span class="o">=</span> <span class="p">{</span><span class="dl">'</span><span class="s1">å­—ç¬¦ä¸²11</span><span class="dl">'</span><span class="p">}</span><span class="sr">/</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="nx">Son</span> <span class="nx">number</span> <span class="o">=</span> <span class="p">{</span><span class="mi">11</span><span class="p">}</span><span class="sr">/</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/div&gt;</span><span class="err">)
</span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<blockquote>
  <p>è¿™æ—¶å€™ï¼Œå› ä¸ºåœ¨ç±»å‹æ£€æµ‹ä¸­ï¼Œå·ç å±æ€§çš„è§„å®šç±»å‹åŒ…æ‹¬å­—ç¬¦ä¸²å’Œæ•°å­—ä¸¤ç§ï¼Œæ‰€ä»¥æ­¤æ—¶æ§åˆ¶å°æ— æŠ¥é”™,å½“ç„¶ï¼Œå¦‚æœä½ æ”¹ä¸ºnumber = {æ•°ç»„æˆ–å…¶ä»–ç±»å‹çš„å˜é‡}ï¼Œé‚£ä¹ˆè¿™æ—¶å°±ä¼šæŠ¥é”™äº†</p>
</blockquote>

<h5 id="é€šè¿‡oneofå®ç°å¤šé€‰æ‹©æ£€æµ‹-å¯è§„å®šå¤šä¸ªæ£€æµ‹é€šè¿‡çš„å˜é‡çš„å€¼">é€šè¿‡oneOfå®ç°å¤šé€‰æ‹©æ£€æµ‹-å¯è§„å®šå¤šä¸ªæ£€æµ‹é€šè¿‡çš„å˜é‡çš„å€¼</h5>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">Son</span><span class="p">.</span><span class="nx">propTypes</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">number</span><span class="p">:</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">oneOf</span><span class="p">(</span>
          <span class="p">[</span><span class="mi">12</span><span class="p">,</span><span class="mi">13</span><span class="p">]</span>
      <span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>
<blockquote>
  <p>æ­¤æ—¶ä¼šæŠ¥é”™</p>
</blockquote>

<h5 id="arrayofobjectofå®ç°å¤šé‡åµŒå¥—æ£€æµ‹">arrayOfï¼ŒobjectOfå®ç°å¤šé‡åµŒå¥—æ£€æµ‹</h5>
<blockquote>
  <p>å¦‚æœæˆ‘ä»¬æ£€æµ‹çš„æ˜¯åŸºæœ¬ç±»å‹çš„å˜é‡ï¼Œé‚£ä¹ˆè¿™è‡ªç„¶æ˜¯å¾ˆç®€å•çš„ï¼Œä½†å½“æˆ‘ä»¬è¦æ£€æµ‹çš„æ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹çš„å˜é‡å‘¢ï¼Ÿå½“æˆ‘ä»¬é™¤äº†æ£€æµ‹è¿™ä¸ªå˜é‡æ˜¯å¦ç¬¦åˆè§„å®šçš„å¼•ç”¨ç±»å‹å¤–ï¼ˆå¯¹è±¡/é˜µåˆ—ï¼‰ï¼Œè¿˜æƒ³è¦è¿›ä¸€æ­¥æ£€æµ‹å¯¹è±¡ä¸­çš„å±æ€§å˜é‡æˆ–é˜µåˆ—ä¸­æ•°ç»„å…ƒç´ çš„æ•°æ®ç±»å‹æ—¶ï¼Œå•é ä¸Šé¢çš„æ–¹æ³•å·²ç»ä¸èƒ½æ»¡è¶³è¦æ±‚äº†ã€‚è¿™æ—¶å€™å°±è¦ç”¨åˆ°PropTypesçš„arrayOfï¼ŒobjectOfæ–¹æ³•ã€‚</p>
  <ul>
    <li>arrayOfæ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°æ˜¯è§„å®šçš„æ•°ç»„å…ƒç´ çš„æ•°æ®ç±»å‹.objectOfæ¥æ”¶çš„å‚æ•°åˆ™æ˜¯å±æ€§çš„æ•°æ®ç±»å‹</li>
  </ul>
</blockquote>

<ul>
  <li>å¯¹ä¸Šè¿°ä¾‹å­åšä¿®æ”¹ï¼š
    <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>
<span class="k">import</span> <span class="nx">PropTypes</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">prop-types</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">class</span> <span class="nx">Son</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
  <span class="nx">render</span><span class="p">(){</span>
     <span class="k">return</span> <span class="p">(</span><span class="o">&lt;</span><span class="nx">div</span> <span class="nx">style</span> <span class="o">=&gt;</span>
              <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">array</span><span class="p">}</span>
             <span class="o">&lt;</span><span class="sr">/div&gt;</span><span class="err">)
</span>         <span class="p">}</span>
<span class="p">}</span>
<span class="nx">Son</span><span class="p">.</span><span class="nx">propTypes</span> <span class="o">=</span> <span class="p">{</span>
   <span class="na">array</span><span class="p">:</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">arrayOf</span><span class="p">(</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">number</span><span class="p">)</span>
<span class="p">}</span>
<span class="kd">class</span> <span class="nx">Father</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
  <span class="nx">render</span><span class="p">(){</span>
     <span class="k">return</span> <span class="p">(</span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
               <span class="o">&lt;</span><span class="nx">Son</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">{[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]}</span><span class="sr">/</span><span class="err">&gt;
</span>             <span class="o">&lt;</span><span class="sr">/div&gt;</span><span class="err">)
</span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>    </div>
    <blockquote>
      <p>æ­£å¸¸æ¸²æŸ“ï¼Œç„¶åæˆ‘ä»¬æŠŠ&lt;Son array = {[1,2,3,4]} /&gt;æ”¹ä¸º&lt;Son array = {[â€˜1â€™ï¼Œâ€™2â€™ï¼Œâ€™3â€™ï¼Œâ€™4â€™]} /&gt; ï¼ŒæŠ¥é”™</p>
      <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">ã€æ³¨æ„ã€‘è™½ç„¶æŠ¥é”™ä½†æ˜¯è¿™å¹¶ä¸ä¼šå½±å“ç¨‹åºçš„æ­£å¸¸è¿è¡Œï¼ˆè­¬å¦‚ä¸Šé¢æˆ‘ä»¬çœ‹åˆ°æ¸²æŸ“ä»ç„¶æ˜¯æ­£å¸¸çš„ï¼‰ï¼Œå› ä¸ºæœ¬è´¨ä¸Šè¯´ç±»å‹æ£€æµ‹æŠ¥çš„æ˜¯éè‡´å‘½æ€§é”™è¯¯çš„è­¦å‘Šè€Œä¸æ˜¯è‡´å‘½æ€§é”™è¯¯çš„é”™è¯¯ï¼ˆåŒºåˆ«åœ¨äºæ˜¯å¦å½±å“äº†æ­£å¸¸è¿è¡Œï¼‰ã€‚å¯¹</span><span class="nx">objectOf</span><span class="err">ä¹Ÿæ˜¯åŒæ ·çš„åšæ³•</span>
</code></pre></div>      </div>
    </blockquote>
  </li>
</ul>

<blockquote>
  <p>objectOfæœ‰ä¸€ä¸ªç¼ºé™·,å°±æ˜¯å®ƒå†…éƒ¨çš„å±æ€§çš„æ•°æ®ç±»å‹è¢«å¼ºè¡Œè§„å®šä¸ºä¸€ç§ï¼Œä½†é€šå¸¸ä¸€ä¸ªå¯¹è±¡é‡Œåº”è¯¥æ˜¯æœ‰å¤šç§ä¸åŒç±»å‹çš„å±æ€§äº†ï¼Œé‚£ä¹ˆè¿™æ—¶å€™objectOfå°±ä¸ç¬¦åˆè¦æ±‚äº†ï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨å½¢çŠ¶æ–¹æ³•ï¼Œå…¶ç”¨æ³•ï¼š</p>
  <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">shape</span><span class="p">({</span>
   <span class="err">å±æ€§</span><span class="mi">1</span><span class="err">ï¼šç±»å‹</span><span class="mi">1</span><span class="err">ï¼Œ</span>
   <span class="err">å±æ€§</span><span class="mi">2</span><span class="err">ï¼šç±»å‹</span><span class="mi">2</span><span class="err">ï¼Œ</span>
  <span class="c1">//...</span>
<span class="p">})</span>
</code></pre></div>  </div>
  <h6 id="ä¸¾ä¸ªä¾‹å­">ä¸¾ä¸ªä¾‹å­</h6>
  <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>
<span class="k">import</span> <span class="nx">PropTypes</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">prop-types</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">class</span> <span class="nx">Son</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
     <span class="nx">render</span><span class="p">(){</span>
        <span class="k">return</span> <span class="p">(</span><span class="o">&lt;</span><span class="nx">div</span> <span class="nx">style</span> <span class="o">=&gt;</span>
                  <span class="p">{</span><span class="dl">'</span><span class="s1">æˆ‘çš„åå­—å«</span><span class="dl">'</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">object</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span>
                  <span class="o">&lt;</span><span class="nx">br</span><span class="o">/&gt;</span>
                  <span class="p">{</span><span class="dl">'</span><span class="s1">æˆ‘çš„å¹´é¾„æ˜¯</span><span class="dl">'</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">object</span><span class="p">.</span><span class="nx">age</span><span class="p">}</span>
                 <span class="o">&lt;</span><span class="sr">/div&gt;</span><span class="err">)
</span>             <span class="p">}</span>
<span class="p">}</span>
<span class="nx">Son</span><span class="p">.</span><span class="nx">propTypes</span> <span class="o">=</span> <span class="p">{</span>
     <span class="na">object</span><span class="p">:</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">shape</span><span class="p">({</span>
     <span class="na">name</span><span class="p">:</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">string</span><span class="p">,</span>
     <span class="na">age</span><span class="p">:</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">number</span>
      <span class="p">})</span>
<span class="p">}</span>
<span class="kd">class</span> <span class="nx">Father</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
    <span class="nx">render</span><span class="p">(){</span>
       <span class="k">return</span> <span class="p">(</span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
                  <span class="o">&lt;</span><span class="nx">Son</span> <span class="nx">object</span> <span class="o">=</span> <span class="sr">/</span><span class="err">&gt;
</span>               <span class="o">&lt;</span><span class="sr">/div&gt;</span><span class="err">)
</span>     <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>  </div>
  <p><code class="highlighter-rouge">æ— æŠ¥é”™ï¼ŒæŠŠ&lt;Son object =  /&gt;æ”¹æˆ&lt;Son object =  /&gt; ï¼Œç„¶åå°±èƒ½æŠ¥é”™äº†</code></p>
</blockquote>

<h5 id="é€šè¿‡isrequiredæ£€æµ‹é“å…·ä¸­æŸä¸ªå¿…è¦çš„å±æ€§å¦‚æœè¯¥å±æ€§ä¸å­˜åœ¨å°±æŠ¥é”™">é€šè¿‡isRequiredæ£€æµ‹é“å…·ä¸­æŸä¸ªå¿…è¦çš„å±æ€§ï¼ˆå¦‚æœè¯¥å±æ€§ä¸å­˜åœ¨å°±æŠ¥é”™ï¼‰</h5>
<p><code class="highlighter-rouge">æˆ‘ä»¬åœ¨å¯¹æŸä¸ªå˜é‡è¿›è¡Œç±»å‹æ£€æµ‹æ—¶ï¼Œæˆ‘ä»¬ä¸ä»…è¦æ±‚å®ƒç¬¦åˆé¢„æœŸçš„ç±»å‹ï¼ŒåŒæ—¶ä¹Ÿè¦æ±‚å®ƒæ˜¯å¿…é¡»å†™å…¥çš„ï¼Œè¿™æ—¶å€™å°±è¦ç”¨åˆ°isRequiredã€‚</code></p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">Son</span><span class="p">.</span><span class="nx">propTypes</span> <span class="o">=</span> <span class="p">{</span>
          <span class="na">number</span><span class="p">:</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">number</span>
<span class="p">}</span>
</code></pre></div></div>
<p><code class="highlighter-rouge">è¿™æ®µä»£ç çš„ä½œç”¨æ˜¯å½“ä½ ä¸­å†™å…¥å·ç å±æ€§ä¸”å·ç å±æ€§ç±»å‹é”™è¯¯æ—¶ç»™äºˆæŠ¥é”™æç¤ºï¼Œå¯å¦‚æœä½ å‹æ ¹å°±æ²¡æœ‰å†™å…¥å·ç å±æ€§å‘¢ï¼Ÿæ²¡é”™ï¼Œä»€ä¹ˆé”™è¯¯éƒ½ä¸ä¼šæŠ¥ã€‚è¿™å°±æ˜¯ä½¿ç”¨isRequiredçš„å¿…è¦æ€§</code></p>

<blockquote>
  <p>ã€æ³¨æ„ã€‘ä¸Šè¿°çš„å†™æ³•æ˜¯æ•°é‡ï¼šPropTypes.number.isRequiredï¼Œè¿™è¦æ±‚æ•°æ˜¯æ•°å­—ç±»å‹ï¼Œä½†å¦‚æœä½ ä¸æƒ³æ§åˆ¶æ•°çš„ç±»å‹è€Œä»…ä»…æ˜¯æƒ³æ§åˆ¶å®ƒçš„å¿…è¦æ€§å‘¢ï¼Ÿéš¾é“å†™æˆå·ï¼šisRequiredæˆ–numberï¼šPropTypes.isRequiredï¼Ÿ è¿™ä¸ªæ—¶å€™PropTypes.anyå°±ç™»åœºå•¦ï¼å®ƒä»£è¡¨äº†è¯¥å˜é‡å¯å–ä»»ä½•ä¸€ç§æ•°æ®ç±»å‹ï¼Œæ‰€ä»¥ä½ å¯ä»¥å†™æˆè¿™æ ·â€“numberï¼šPropTypes.any.isRequired</p>
</blockquote>

<h5 id="åº”å¯¹æ›´å¤æ‚çš„ç±»å‹æ£€æµ‹---å°†proptypesçš„å±æ€§å€¼å†™æˆå‡½æ•°">åº”å¯¹æ›´å¤æ‚çš„ç±»å‹æ£€æµ‹ - å°†PropTypesçš„å±æ€§å€¼å†™æˆå‡½æ•°</h5>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">Son</span><span class="p">.</span><span class="nx">propTypes</span> <span class="o">=</span> <span class="p">{</span>
      <span class="na">prop</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">props</span><span class="p">,</span><span class="nx">propName</span><span class="p">,</span><span class="nx">componentName</span><span class="p">){</span>
          <span class="k">if</span><span class="p">(</span><span class="cm">/*åˆ¤æ–­æ¡ä»¶*/</span><span class="p">){</span>
               <span class="k">return</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="cm">/*é”™è¯¯çš„å‚æ•°*/</span><span class="p">)</span>
           <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<blockquote>
  <p>åœ¨å±æ€§propçš„ç±»å‹æ£€æµ‹ä¸­ï¼Œå±æ€§å€¼æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåœ¨è¿™é‡Œpropsæ˜¯åŒ…å«propçš„propså¯¹è±¡ï¼ŒpropNameæ˜¯propçš„å±æ€§åï¼ŒcomponentNameæ˜¯propsæ‰€åœ¨çš„ç»„ä»¶åç§°ï¼Œå‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªErrorå¯¹è±¡</p>
  <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>
<span class="k">import</span> <span class="nx">PropTypes</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">prop-types</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">class</span> <span class="nx">Son</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
         <span class="nx">render</span><span class="p">(){</span>
               <span class="k">return</span> <span class="p">(</span><span class="o">&lt;</span><span class="nx">div</span> <span class="nx">style</span> <span class="o">=&gt;</span>
                        <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">email</span><span class="p">}</span>
                       <span class="o">&lt;</span><span class="sr">/div&gt;</span><span class="err">)
</span>                  <span class="p">}</span>
<span class="p">}</span>
<span class="nx">Son</span><span class="p">.</span><span class="nx">propTypes</span> <span class="o">=</span> <span class="p">{</span>
     <span class="na">email</span><span class="p">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">props</span><span class="p">,</span><span class="nx">propName</span><span class="p">,</span><span class="nx">componentName</span><span class="p">){</span>
            <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="sr">/^</span><span class="se">([</span><span class="sr">a-zA-Z0-9_-</span><span class="se">])</span><span class="sr">+@</span><span class="se">([</span><span class="sr">a-zA-Z0-9_-</span><span class="se">])</span><span class="sr">+</span><span class="se">(</span><span class="sr">.</span><span class="se">[</span><span class="sr">a-zA-Z0-9_-</span><span class="se">])</span><span class="sr">+/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">props</span><span class="p">[</span><span class="nx">propName</span><span class="p">])){</span>
                  <span class="k">return</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="dl">'</span><span class="s1">ç»„ä»¶</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">componentName</span><span class="o">+</span> <span class="dl">'</span><span class="s1">é‡Œçš„å±æ€§</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">propName</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">ä¸ç¬¦åˆé‚®ç®±çš„æ ¼å¼</span><span class="dl">'</span><span class="p">);</span>
                         <span class="p">}</span>
                <span class="p">}</span>
<span class="p">}</span>
<span class="kd">class</span> <span class="nx">Father</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
        <span class="nx">render</span><span class="p">(){</span>
             <span class="k">return</span> <span class="p">(</span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="nx">Son</span> <span class="nx">email</span> <span class="o">=</span> <span class="p">{</span><span class="mi">2314838004</span><span class="p">}</span><span class="sr">/</span><span class="err">&gt;
</span>                     <span class="o">&lt;</span><span class="sr">/div&gt;</span><span class="err">)
</span>                <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>  </div>
</blockquote>

<h5 id="es7ä¸‹ç±»å‹æ£€æµ‹çš„æ–°å†™æ³•">ES7ä¸‹ç±»å‹æ£€æµ‹çš„æ–°å†™æ³•ï¼š</h5>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">Son</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
<span class="kd">static</span> <span class="nx">propTypes</span> <span class="o">=</span> <span class="p">{</span>
       <span class="c1">//..ç±»å‹æ£€æµ‹</span>
<span class="p">}</span>
<span class="nx">render</span><span class="p">(){</span>
   <span class="k">return</span> <span class="p">(</span><span class="cm">/* æ¸²æŸ“*/</span><span class="p">)</span>
     <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h5 id="props-typesçš„ç‹¬ç«‹ä¸reactproptypesçš„å¼ƒç”¨">props-typesçš„ç‹¬ç«‹ä¸react.PropTypesçš„å¼ƒç”¨</h5>
<p><code class="highlighter-rouge">åœ¨ä¸Šé¢æˆ‘æ˜¯åˆ©ç”¨props-typesè¿™ä¸ªç‹¬ç«‹çš„ç¬¬ä¸‰æ–¹åº“æ¥è¿›è¡Œç±»å‹æ£€æµ‹çš„ï¼Œä½†åœ¨ä¸ä¹…å‰ï¼ˆreact V15.5ä»¥å‰ï¼‰ï¼Œå®ƒä½¿ç”¨çš„æ˜¯reactå†…ç½®çš„ç±»å‹æ£€æµ‹ï¼Œè€Œä¸æ˜¯ç¬¬ä¸‰æ–¹åº“ï¼ˆä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬ç°åœ¨çš„prop-typesæ˜¯å½“åˆä»¥reactå†…ç½®çš„PropTypeså¯¹è±¡ä¸ºåŸºç¡€åˆ†ç¦»å‡ºæ¥çš„ï¼‰</code></p>
<blockquote>
  <p>æ‰€ä»¥è¯´åœ¨ä½ ä¹Ÿå¯ä»¥è¿™æ ·è¿›è¡Œç±»å‹æ£€æµ‹ï¼Œè™½ç„¶å¹¶ä¸æ¨èï¼ˆä¸ºäº†ä¿æŒå‘ä¸‹å…¼å®¹è¿™åœ¨æœ€æ–°ç‰ˆæœ¬çš„reactä¸Šä»ç„¶æ˜¯å¯ç”¨çš„ï¼‰</p>
  <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">Son</span><span class="p">.</span><span class="nx">propTypes</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">number</span><span class="p">:</span><span class="nx">React</span><span class="p">.</span><span class="nx">PropTypes</span><span class="p">.</span><span class="nx">number</span>
<span class="p">}</span>
</code></pre></div>  </div>
</blockquote>

:ET